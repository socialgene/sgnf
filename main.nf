#!/usr/bin/env nextflow
/*
========================================================================================
    socialgene
========================================================================================
    Github : https://github.com/socialgene
    Website: https://socialgene.github.io
----------------------------------------------------------------------------------------
*/

nextflow.enable.dsl = 2


/*
========================================================================================
    OUTDIR CHECK
========================================================================================
*/



/*
========================================================================================
    VALIDATE & PRINT PARAMETER SUMMARY
========================================================================================
*/

//WorkflowMain.initialise(workflow, params, log)

/*
========================================================================================
    NAMED WORKFLOW FOR PIPELINE
========================================================================================
*/

include { DB_CREATOR } from './workflows/socialgene'
//include { REFSEQ } from './workflows/socialgene_refseq'
include { CHTC_PREP } from './workflows/chtc_prep'

//
// WORKFLOW: Run mainsocialgene/sgnf analysis pipeline
//
workflow SOCIALGENE {
    if (params.refseq_complete_step_1){
        CHTC_PREP()
    } else {
        DB_CREATOR()
    }

}

/*
========================================================================================
    RUN ALL WORKFLOWS
========================================================================================
*/

workflow {
    SOCIALGENE ()
}

/*
========================================================================================
    THE END
========================================================================================
*/
